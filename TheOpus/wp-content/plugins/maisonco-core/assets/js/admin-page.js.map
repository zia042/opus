{"version":3,"sources":["before.js","admin-page.js","after.js"],"names":["$","OTFAdminPageDetail","_this","this","_classCallCheck","initPageLayout","initFooterLayout","each","index","element","initSlider","_createClass","key","value","$container","find","on","removeClass","addClass","attr","prev","val","OREAdminFunctionJs","formatPrice","Number","trim","replace","event","currentTarget","target","$slider","slider","range","min","data","max","step","slide","ui","children","html","unit","id","change","handle","closest","next","create","OTFdminSwitchOnOffJs","$input","_this2","actionShowHide","selector","$switch","prop","show","duration","arguments","length","undefined","stop","slideDown","slideUp","_typeof","field","join","document","ready","jQuery"],"mappings":"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","file":"admin-page.js","sourcesContent":["(function ($) {","class OTFAdminPageDetail {\n    constructor() {\n        //this.initTabSettings();\n        // this.formatPrice();\n        this.initPageLayout();\n        this.initFooterLayout();\n        $('.otf-customize-slider .otf-slider').each((index, element) => {\n            this.initSlider(element);\n        })\n    }\n\n    initPageLayout() {\n        let $container = $('[otf-page-layout]');\n        $container.find('li').on('click', function () {\n            $container.find('li').removeClass('active');\n            let value = $(this).addClass('active').find('img').attr('alt');\n            $container.prev().val(value);\n        });\n    }\n\n    initFooterLayout() {\n        let $container = $('.opal-control-footer');\n        $container.find('.footer-select').on('change', function () {\n            let value = $container.find('option:selected').val();\n            $container.find('.image-select-tpl').removeClass('active');\n            $container.find('.image-select [data-value=' +value+']').addClass('active');\n            $container.prev().val(value);\n        });\n    }\n\n    formatPrice() {\n        $('[format-price=\"true\"]', '#opaltab-customfield').each((index, element) => {\n            $(element).val(OREAdminFunctionJs.formatPrice(Number($(element).val().trim().replace(/[^\\d]*/g, ''))));\n            $(element).on('keyup', (event) => {\n                $(event.currentTarget).val(OREAdminFunctionJs.formatPrice(Number(event.target.value.trim().replace(/[^\\d]*/g, ''))))\n            });\n        })\n    }\n\n    initSlider(element) {\n        let $slider = $(element);\n        let id = $slider.data('id');\n        let unit = $slider.data('unit') ? $slider.data('unit') : '';\n        $slider.slider({\n            range : \"min\",\n            min   : $slider.data('min'),\n            max   : $slider.data('max'),\n            step  : $slider.data('step'),\n            value : $slider.data('value'),\n            create: function (event, ui) {\n                $slider.children('.ui-slider-handle').html(`<span>${$slider.slider('value')}${unit}</span>`);\n            },\n            slide : function (event, ui) {\n                $slider.children('.ui-slider-handle').html(`<span>${ui.value}${unit}</span>`);\n                $('#' + id).val(ui.value);\n            },\n            change: function (event, ui) {\n                $(ui.handle).closest('.cmb2-slider-element').find('[opal-hidden=\"true\"]').val(ui.value);\n            }\n        });\n        $slider.next().on('click', function () {\n            $slider.slider('value', $slider.data('default-value'));\n        })\n    }\n\n}\n\nclass OTFdminSwitchOnOffJs {\n    classmap = null;\n\n    constructor(maps) {\n        this.classmap = maps;\n        this.init();\n    }\n\n    init() {\n        $('.opal-onoffswitch-wrapper').each((index, element) => {\n            let $input   = $('input.onoffswitch-input', element);\n            let $switch  = $('.onoffswitch-checkbox', element);\n            let selector = this.getSelectorString($switch);\n            this.actionShowHide(selector, $switch.prop('checked'), 0);\n            $switch.on('change', () => {\n                this.actionShowHide(selector, $switch.prop('checked'));\n                if ($switch.prop('checked')) {\n                    $input.val('1');\n                } else {\n                    $input.val('0');\n                }\n            })\n        })\n    }\n\n    actionShowHide(selector, show, duration = 400) {\n        if (show) {\n            $(selector).stop().slideDown(duration);\n        } else {\n            $(selector).stop().slideUp(duration);\n        }\n    }\n\n    getSelectorString($switch) {\n        if (typeof $switch.data('show-fields') === 'object') {\n            return $switch.data('show-fields').map((field) => {\n                return '.cmb2-id-' + field.replace(/_/g, '-');\n            }).join(',');\n        } else {\n            return false;\n        }\n    }\n}\n\n$(document).ready(() => {\n    new OTFAdminPageDetail();\n    new OTFdminSwitchOnOffJs();\n});","})(jQuery);"]}